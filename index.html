<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WhatsApp Clone</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>

    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #121212;
            margin: 0;
            overflow: hidden;
        }

        #M {
            border: 2px solid black;
            height: 90vh;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            background: black;
            overflow-y: auto;
            display: block;
        }

        #M::-webkit-scrollbar {
            display: none;
        }

        #top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #1f1f1f;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        span {
            font-size: 24px;
            color: white;
            font-weight: bold;
        }

        .st {
            margin-left: 10px;
            cursor: pointer;
            color: white;
        }

        #body_scrol {
            display: flex;
            align-items: center;
            background: #363030;
            border-radius: 17px;
            margin: 10px;
            padding: 8px;
        }

        #body_scrol input {
            border: none;
            outline: none;
            font-size: 16px;
            background: transparent;
            color: white;
            flex: 1;
            padding-left: 10px;
        }

        .Search {
            color: #949191;
        }

        ul {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            overflow-x: auto;
        }

        li {
            color: #ffffff;
            list-style-type: none;
            background: #363030;
            padding: 7px;
            margin: 0 5px;
            border-radius: 10px;
            cursor: pointer;
            white-space: nowrap;
        }

        #Archived {
            padding: 10px;
            color: white;
        }

        .contect {
            display: flex;
            align-items: center;
            padding: 10px;
           
        }

        .profile {
            height: 45px;
            width: 45px;
            border-radius: 50%;
            overflow: hidden;
        }

        .profile img {
            width: 100%;
        }

        .name {
            color: white;
            font-size: 15px;
            margin-left: 10px;
            flex: 1;
        }

        .contect small {
            color: white;
        }

        

        @media (max-width: 768px) {
            #M {
                width: 100%;
                height: 100vh;
                border-radius: 0;
            }
        }


      /* Footer Styles */
      footer {
    width: 100%;
    background-color: rgb(4, 0, 0);
    position: fixed;
    bottom: 0;
    left: 0;
    display: flex;
    justify-content: space-around;
    padding: 10px 0;
    z-index: 100;
}

/* Footer Icons */
footer i {
    font-size: 24px;
    color: #f8f2f2;
    cursor: pointer;
}

footer i:hover {
    color: #25d366; /* WhatsApp green color on hover */
}

/* Responsive Footer Styles */
@media (max-width: 768px) {
    footer {
        flex-direction: row; /* Row layout for footer on mobile */
        padding: 10px 0;
        justify-content: space-around;
        position: fixed;
        bottom: 0;
    }

    footer i {
        margin: 5px;
        font-size: 22px;
    }
}

@media (max-width: 576px) {
    footer {
        flex-direction: row; /* Ensure icons remain horizontally aligned */
        padding: 10px 0;
    }

    footer i {
        font-size: 20px;
        margin: 0 5px;//this is the footer icon change
    }
}


 .chat-icon {
            position: fixed;
            bottom: 78px;
            right: 28px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border-radius: 50%;
            padding: 15px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Chatbot window */
        .chatbot {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 300px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
        }

        .chat-header {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-body {
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }

       #chatbot input[type="text"] {
            width: 80%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin: 10px;
        }

        button {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        .user {
            text-align: right;
            margin-bottom: 10px;
            padding: 5px;
            background-color: #d3f8e2;
            border-radius: 10px;
        }

        .bot {
            text-align: left;
            margin-bottom: 10px;
            padding: 5px;
            background-color: #f1f1f1;
            border-radius: 10px;
        }





         body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #121212;
            margin: 0;
            overflow: hidden;
        }

        #M {
            border: 2px solid black;
            height: 90vh;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            background: black;
            overflow-y: auto;
            display: block;
        }

        #M::-webkit-scrollbar {
            display: none;
        }

        #top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #1f1f1f;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        span {
            font-size: 24px;
            color: white;
            font-weight: bold;
        }

        .st {
            margin-left: 10px;
            cursor: pointer;
            color: white;
        }

        #body_scrol {
            display: flex;
            align-items: center;
            background: #363030;
            border-radius: 17px;
            margin: 10px;
            padding: 8px;
        }

        #body_scrol input {
            border: none;
            outline: none;
            font-size: 16px;
            background: transparent;
            color: white;
            flex: 1;
            padding-left: 10px;
        }

        .Search {
            color: #949191;
        }

        ul {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            overflow-x: auto;
        }

        li {
            color: #ffffff;
            list-style-type: none;
            background: #363030;
            padding: 7px;
            margin: 0 5px;
            border-radius: 10px;
            cursor: pointer;
            white-space: nowrap;
        }

        #Archived {
            padding: 10px;
            color: white;
        }

        .contect {
            display: flex;
            align-items: center;
            padding: 10px;
            cursor: pointer;
        }

        .profile {
            height: 45px;
            width: 45px;
            border-radius: 50%;
            overflow: hidden;
        }

        .profile img {
            width: 100%;
        }

        .name {
            color: white;
            font-size: 15px;
            margin-left: 10px;
            flex: 1;
        }

        .contect small {
            color: white;
        }

        footer {
            width: 100%;
            background-color: rgb(4, 0, 0);
            position: fixed;
            bottom: 0;
            left: 0;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            z-index: 100;
        }

        footer i {
            font-size: 24px;
            color: #f8f2f2;
            cursor: pointer;
        }

        footer i:hover {
            color: #25d366;
        }

        /* Chat container styles */
        #chatContainer {
            display: none;
            background-color: #121212;
            padding: 20px;
            height: 80vh;
            width: 90%;
            max-width: 400px;
            border-radius: 12px;
            margin: 0 auto;
        }

        #chatContainer .header {
            display: flex;
            justify-content: flex-start;
            padding-bottom: 10px;
            align-items: center;
        }

        #chatContainer .profile {
            height: 45px;
            width: 45px;
            border-radius: 50%;
            overflow: hidden;
           
        }

        #chatContainer .profile img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #chatContainer #chatContactName {
            color: white;
            font-size: 20px;
            font-weight: bold;
            margin-left: 20px;            


        }

        #chatContainer .messages {
            max-height: 59vh;
            overflow-y: auto;
            margin-bottom: 10px;
            color: white;
        }

        #chatContainer .message {
            margin-bottom: 10px;
        }

        #chatContainer input {
            width: 74%;
            padding: 10px;
            border-radius: 5px;
            border: none;
            background-color: #363030;
            color: white;
            position: fixed;
            margin: auto;
            top: 372px;

        }

        /* Back button styles */
        .back-button {
            background-color: transparent;
            color: #25d366;
            font-size: 18px;
            font-weight: bold;
            border: none;
            cursor: pointer;
        }

        .back-button:hover {
            color: #1db954;
        }

        @media (max-width: 768px) {
            #M {
                width: 100%;
                height: 100vh;
                border-radius: 0;
            }
        }


    </style>
</head>
<body>
    <div id="M">
        <div id="top">
            <span>WhatsApp</span>
            <div>
                <i class="bi bi-qr-code-scan st"></i>
                <i class="bi bi-camera st"></i>
                <!-- <i id="camera-icon" class="bi bi-camera st"></i> -->
                <i class="bi bi-three-dots-vertical st"></i>
            </div>
        </div>
        <div id="body_scrol">
            <i class="bi bi-search Search"></i>
            <input type="text" placeholder="Ask Meta AI or Search" id="search-input">
        </div>
        <ul>
            <li style="color:red;">All</li>
            <li>Unread</li>
            <li>Favorites</li>
            <li>Groups</li>
            <li><i class="bi bi-plus" style="color:white;"></i></li>
        </ul>
        <div id="Archived">
            <i class="bi bi-arrow-down-square"></i>&nbsp;&nbsp;
            <big>Archived</big>
        </div>
    <div>
        <div class="contect"  data-contact="uk (you)" >
            <div class="profile"><img src="p3.jpeg"></div>
            <h4 class="name">uk (you)</h4>
            <small>7:49 PM</small>
        </div>
        <div class="contect" data-contact="Sakshi">
    <div class="profile"><img src="p2.jpeg"></div>
    <h4 class="name">Sakshi</h4>
    <small>7:49 PM</small>
</div>

<div class="contect" data-contact="Vikas G">
    <div class="profile"><img src="p4.jpeg"></div>
    <h4 class="name">Vikas G</h4>
    <small>7:49 PM</small>
</div>

<div class="contect" data-contact="Sagar M">
    <div class="profile"><img src="p5.jpeg"></div>
    <h4 class="name">Sagar M</h4>
    <small>7:49 PM</small>
</div>

<div class="contect" data-contact="Sister KS">
    <div class="profile"><img src="p6.jpeg"></div>
    <h4 class="name">Sister KS</h4>
    <small>7:49 PM</small>
</div>

<div class="contect" data-contact="Komal sister">
    <div class="profile"><img src="p6.jpeg"></div>
    <h4 class="name">Komal sister</h4>
    <small>7:49 PM</small>
</div>

<div class="contect" data-contact="Aarav Sharma">
    <div class="profile"><img src="g1.jpg" alt="Aarav Sharma"></div>
    <h4 class="name">Aarav Sharma</h4>
    <small>6:18 PM</small>
</div>

<div class="contect" data-contact="Ananya Patel">
    <div class="profile"><img src="g2.jpg" alt="Ananya Patel"></div>
    <h4 class="name">Ananya Patel</h4>
    <small>9:03 PM</small>
</div>

<div class="contect" data-contact="Neha Kapoor">
    <div class="profile"><img src="g3.jpg" alt="Neha Kapoor"></div>
    <h4 class="name">Neha Kapoor</h4>
    <small>6:55 PM</small>
</div>

<div class="contect" data-contact="Priya Rao">
    <div class="profile"><img src="g4.jpg" alt="Priya Rao"></div>
    <h4 class="name">Priya Rao</h4>
    <small>8:22 PM</small>
</div>

<div class="contect" data-contact="Shivani Verma">
    <div class="profile"><img src="g5.jpg" alt="Shivani Verma"></div>
    <h4 class="name">Shivani Verma</h4>
    <small>7:40 PM</small>
</div>

<div class="contect" data-contact="uk (you)">
    <div class="profile"><img src="p3.jpeg"></div>
    <h4 class="name">uk (you)</h4>
    <small>7:49 PM</small>
</div>

         
 
 
</div>

         <div id="chat-icon" class="chat-icon">
       <i class="bi bi-chat-left-dots"></i>
    </div>

    <!-- Chatbot window -->
    <div id="chatbot" class="chatbot">
        <div class="chat-header">
            <span>AI Chatbot</span>
            <button id="close-chat">X</button>
        </div>
        <div class="chat-body" id="chat-body">
            <!-- Chat messages will appear here -->
        </div>
        <input type="text" id="user-input" placeholder="Type a message...">
        <button id="send-btn">Send</button>
    </div>
 </div>

 <div id="chatContainer">
        <div class="header">
            <button id="backButton" class="back-button"><i class="bi bi-arrow-left-short"></i></button>
            <div class="profile">
                <img src="" id="chatProfile" alt="Profile">
            </div>
            <div id="chatContactName"></div>
        </div>
        <div class="messages" id="chatMessages"></div>
        <input type="text" placeholder="Type a message..." id="chatInput">
    </div>

     <footer>
        <i class="bi bi-chat-right-text-fill" id="home-icon"></i>
        <i class="bi bi-broadcast" id="broadcast-icon"></i>
        <i class="bi bi-person" id="contacts-icon"></i>
        <i class="bi bi-telephone" id="calls-icon"></i>
    </footer>
   
   


   <script type="text/javascript">
       

        const contacts = document.querySelectorAll('.contect');
        const chatContainer = document.getElementById('chatContainer');
        const chatProfile = document.getElementById('chatProfile');
        const chatContactName = document.getElementById('chatContactName');
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const contactsSection = document.getElementById('M');  // The contact list container
        const backButton = document.getElementById('backButton');
        
        let currentContact = null;

        // Function to load chat messages from local storage
        const loadChatMessages = (contactName) => {
            const messages = JSON.parse(localStorage.getItem(contactName)) || [];
            chatMessages.innerHTML = messages.map(message => `
                <div class="message"><strong>${message.sender}:</strong> ${message.text}</div>
            `).join('');
        };

        // Function to save a new message to local storage
        const saveChatMessage = (contactName, message) => {
            const messages = JSON.parse(localStorage.getItem(contactName)) || [];
            messages.push(message);
            localStorage.setItem(contactName, JSON.stringify(messages));
        };

        contacts.forEach(contact => {
            contact.addEventListener('click', () => {
                const contactName = contact.dataset.contact;
                const contactImg = contact.querySelector('img').src;

                // Hide the contact list section
                contactsSection.style.display = 'none';

                // Set chat profile image and name
                chatProfile.src = contactImg;
                chatContactName.textContent = contactName;

                // Show the chat container
                chatContainer.style.display = 'block';

                // Load previous chat messages from local storage
                loadChatMessages(contactName);

                // Set the current contact for message saving
                currentContact = contactName;
            });
        });

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && chatInput.value.trim() !== '') {
                const messageText = chatInput.value.trim();
                const newMessage = { sender: 'You', text: messageText };

                // Save the new message to local storage
                saveChatMessage(currentContact, newMessage);

                // Display the new message in the chat window
                const messageElement = document.createElement('div');
                messageElement.classList.add('message');
                messageElement.innerHTML = `<strong>You:</strong> ${messageText}`;
                chatMessages.appendChild(messageElement);

                // Clear the input field
                chatInput.value = '';
            }
        });

        // Back button event listener
        backButton.addEventListener('click', () => {
            // Hide the chat container
            chatContainer.style.display = 'none';

            // Show the contact list again
            contactsSection.style.display = 'block';
        });

// Add event listener to the search input field
document.getElementById('search-input').addEventListener('input', function(event) {
    const searchTerm = event.target.value.toLowerCase();  
    const contacts = document.querySelectorAll('.contect');  

    contacts.forEach(contact => {
        const name = contact.querySelector('.name').textContent.toLowerCase();   
        if (name.includes(searchTerm)) {
            contact.style.display = 'flex'; 
            contact.style.opacity = '1';  
            contact.style.height = 'auto';  
        } else {
            contact.style.display = 'none';  
            contact.style.height = '0';  
            contact.style.opacity = '0';  
        }
    });
});

    


//this is the code of the chat box model

        // Get elements
        const chatIcon = document.getElementById('chat-icon');
        const chatbot = document.getElementById('chatbot');
        const closeChat = document.getElementById('close-chat');
        const sendBtn = document.getElementById('send-btn');
        const userInput = document.  getElementById('user-input');
        const chatBody = document.getElementById('chat-body');

        // Toggle chat window visibility
        chatIcon.addEventListener('click', () => {
            chatbot.style.display = 'flex';
        });

        // Close the chat window
        closeChat.addEventListener('click', () => {
            chatbot.style.display = 'none';
        });

        // Handle sending messages
        sendBtn.addEventListener('click', () => {
            const userMessage = userInput.value;
            if (userMessage.trim() !== '') {
                addMessage(userMessage, 'user');
                userInput.value = ''; // Clear input after sending

                // Simulate a response from the chatbot
                setTimeout(() => {
                    addMessage("This is a sample bot response.", 'bot');
                }, 1000);
            }
        });

        // Function to display messages
        function addMessage(message, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add(sender);
            messageDiv.textContent = message;
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight; // Auto scroll to bottom
        }



   </script>
</body>
</html>
